'use strict';

exports.__esModule = true;
exports.UseRoleCommand = exports.SetPageLoadTimeoutCommand = exports.SetTestSpeedCommand = exports.GetBrowserConsoleMessagesCommand = exports.GetNativeDialogHistoryCommand = exports.SetNativeDialogHandlerCommand = exports.SwitchToMainWindowCommand = exports.SwitchToIframeCommand = exports.ClearUploadCommand = exports.SetFilesToUploadCommand = exports.NavigateToCommand = exports.PressKeyCommand = exports.SelectTextAreaContentCommand = exports.SelectEditableContentCommand = exports.SelectTextCommand = exports.DragToElementCommand = exports.DragCommand = exports.TypeTextCommand = exports.HoverCommand = exports.DoubleClickCommand = exports.ExecuteExpressionCommand = exports.RightClickCommand = exports.ClickCommand = undefined;

var _type = require('./type');

var _type2 = _interopRequireDefault(_type);

var _selectorBuilder = require('../../client-functions/selectors/selector-builder');

var _selectorBuilder2 = _interopRequireDefault(_selectorBuilder);

var _clientFunctionBuilder = require('../../client-functions/client-function-builder');

var _clientFunctionBuilder2 = _interopRequireDefault(_clientFunctionBuilder);

var _builderSymbol = require('../../client-functions/builder-symbol');

var _builderSymbol2 = _interopRequireDefault(_builderSymbol);

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _options = require('./options');

var _initializers = require('./validations/initializers');

var _executeJsExpression = require('../execute-js-expression');

var _executeJsExpression2 = _interopRequireDefault(_executeJsExpression);

var _utils = require('./utils');

var _argument = require('./validations/argument');

var _testRun = require('../../errors/test-run');

var _observation = require('./observation');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Initializers
function initActionOptions(name, val) {
    return new _options.ActionOptions(val, true);
}

function initClickOptions(name, val) {
    return new _options.ClickOptions(val, true);
}

function initMouseOptions(name, val) {
    return new _options.MouseOptions(val, true);
}

function initTypeOptions(name, val) {
    return new _options.TypeOptions(val, true);
}

function initDragToElementOptions(name, val) {
    return new _options.DragToElementOptions(val, true);
}

function initDialogHandler(name, val, { skipVisibilityCheck, testRun }) {
    let fn;

    if ((0, _utils.isJSExpression)(val)) fn = (0, _executeJsExpression2.default)(val.value, testRun, { skipVisibilityCheck });else fn = val.fn;

    if (fn === null || fn instanceof _observation.ExecuteClientFunctionCommand) return fn;

    const options = val.options;
    const methodName = 'setNativeDialogHandler';
    let builder = fn && fn[_builderSymbol2.default];
    const isSelector = builder instanceof _selectorBuilder2.default;
    const functionType = typeof fn;

    if (functionType !== 'function' || isSelector) throw new _testRun.SetNativeDialogHandlerCodeWrongTypeError(isSelector ? 'Selector' : functionType);

    builder = builder instanceof _clientFunctionBuilder2.default ? fn.with(options)[_builderSymbol2.default] : new _clientFunctionBuilder2.default(fn, options, { instantiation: methodName, execution: methodName });

    return builder.getCommand([]);
}

// Commands
class ClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.click);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.ClickCommand = ClickCommand;
class RightClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.rightClick);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.RightClickCommand = RightClickCommand;
class ExecuteExpressionCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.executeExpression);
    }

    _getAssignableProperties() {
        return [{ name: 'expression', type: _argument.nonEmptyStringArgument, required: true }, { name: 'resultVariableName', type: _argument.nonEmptyStringArgument, defaultValue: null }, { name: 'isAsyncExpression', type: _argument.booleanArgument, defaultValue: false }];
    }
}

exports.ExecuteExpressionCommand = ExecuteExpressionCommand;
class DoubleClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.doubleClick);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.DoubleClickCommand = DoubleClickCommand;
class HoverCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.hover);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initMouseOptions, required: true }];
    }
}

exports.HoverCommand = HoverCommand;
class TypeTextCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.typeText);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'text', type: _argument.nonEmptyStringArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initTypeOptions, required: true }];
    }
}

exports.TypeTextCommand = TypeTextCommand;
class DragCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.drag);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'dragOffsetX', type: _argument.integerArgument, required: true }, { name: 'dragOffsetY', type: _argument.integerArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initMouseOptions, required: true }];
    }
}

exports.DragCommand = DragCommand;
class DragToElementCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.dragToElement);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'destinationSelector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initDragToElementOptions, required: true }];
    }
}

exports.DragToElementCommand = DragToElementCommand;
class SelectTextCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectText);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'startPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectTextCommand = SelectTextCommand;
class SelectEditableContentCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectEditableContent);
    }

    _getAssignableProperties() {
        return [{ name: 'startSelector', init: _initializers.initSelector, required: true }, { name: 'endSelector', init: _initializers.initSelector, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectEditableContentCommand = SelectEditableContentCommand;
class SelectTextAreaContentCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectTextAreaContent);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'startLine', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'startPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endLine', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectTextAreaContentCommand = SelectTextAreaContentCommand;
class PressKeyCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.pressKey);
    }

    _getAssignableProperties() {
        return [{ name: 'keys', type: _argument.nonEmptyStringArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.PressKeyCommand = PressKeyCommand;
class NavigateToCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.navigateTo);
    }

    _getAssignableProperties() {
        return [{ name: 'url', type: _argument.urlArgument, required: true }, { name: 'stateSnapshot', type: _argument.nullableStringArgument, defaultValue: null }];
    }
}

exports.NavigateToCommand = NavigateToCommand;
class SetFilesToUploadCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setFilesToUpload);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initUploadSelector, required: true }, { name: 'filePath', type: _argument.stringOrStringArrayArgument, required: true }];
    }
}

exports.SetFilesToUploadCommand = SetFilesToUploadCommand;
class ClearUploadCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.clearUpload);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initUploadSelector, required: true }];
    }
}

exports.ClearUploadCommand = ClearUploadCommand;
class SwitchToIframeCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.switchToIframe);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }];
    }
}

exports.SwitchToIframeCommand = SwitchToIframeCommand;
class SwitchToMainWindowCommand {
    constructor() {
        this.type = _type2.default.switchToMainWindow;
    }
}

exports.SwitchToMainWindowCommand = SwitchToMainWindowCommand;
class SetNativeDialogHandlerCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setNativeDialogHandler);
    }

    _getAssignableProperties() {
        return [{ name: 'dialogHandler', init: initDialogHandler, required: true }];
    }
}

exports.SetNativeDialogHandlerCommand = SetNativeDialogHandlerCommand;
class GetNativeDialogHistoryCommand {
    constructor() {
        this.type = _type2.default.getNativeDialogHistory;
    }
}

exports.GetNativeDialogHistoryCommand = GetNativeDialogHistoryCommand;
class GetBrowserConsoleMessagesCommand {
    constructor() {
        this.type = _type2.default.getBrowserConsoleMessages;
    }
}

exports.GetBrowserConsoleMessagesCommand = GetBrowserConsoleMessagesCommand;
class SetTestSpeedCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setTestSpeed);
    }

    _getAssignableProperties() {
        return [{ name: 'speed', type: _argument.setSpeedArgument, required: true }];
    }
}

exports.SetTestSpeedCommand = SetTestSpeedCommand;
class SetPageLoadTimeoutCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setPageLoadTimeout);
    }

    _getAssignableProperties() {
        return [{ name: 'duration', type: _argument.positiveIntegerArgument, required: true }];
    }
}

exports.SetPageLoadTimeoutCommand = SetPageLoadTimeoutCommand;
class UseRoleCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.useRole);
    }

    _getAssignableProperties() {
        return [{ name: 'role', type: _argument.actionRoleArgument, required: true }];
    }
}
exports.UseRoleCommand = UseRoleCommand;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXN0LXJ1bi9jb21tYW5kcy9hY3Rpb25zLmpzIl0sIm5hbWVzIjpbImluaXRBY3Rpb25PcHRpb25zIiwibmFtZSIsInZhbCIsImluaXRDbGlja09wdGlvbnMiLCJpbml0TW91c2VPcHRpb25zIiwiaW5pdFR5cGVPcHRpb25zIiwiaW5pdERyYWdUb0VsZW1lbnRPcHRpb25zIiwiaW5pdERpYWxvZ0hhbmRsZXIiLCJza2lwVmlzaWJpbGl0eUNoZWNrIiwidGVzdFJ1biIsImZuIiwidmFsdWUiLCJvcHRpb25zIiwibWV0aG9kTmFtZSIsImJ1aWxkZXIiLCJpc1NlbGVjdG9yIiwiZnVuY3Rpb25UeXBlIiwid2l0aCIsImluc3RhbnRpYXRpb24iLCJleGVjdXRpb24iLCJnZXRDb21tYW5kIiwiQ2xpY2tDb21tYW5kIiwiY29uc3RydWN0b3IiLCJvYmoiLCJjbGljayIsIl9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyIsImluaXQiLCJyZXF1aXJlZCIsInR5cGUiLCJSaWdodENsaWNrQ29tbWFuZCIsInJpZ2h0Q2xpY2siLCJFeGVjdXRlRXhwcmVzc2lvbkNvbW1hbmQiLCJleGVjdXRlRXhwcmVzc2lvbiIsImRlZmF1bHRWYWx1ZSIsIkRvdWJsZUNsaWNrQ29tbWFuZCIsImRvdWJsZUNsaWNrIiwiSG92ZXJDb21tYW5kIiwiaG92ZXIiLCJUeXBlVGV4dENvbW1hbmQiLCJ0eXBlVGV4dCIsIkRyYWdDb21tYW5kIiwiZHJhZyIsIkRyYWdUb0VsZW1lbnRDb21tYW5kIiwiZHJhZ1RvRWxlbWVudCIsIlNlbGVjdFRleHRDb21tYW5kIiwic2VsZWN0VGV4dCIsIlNlbGVjdEVkaXRhYmxlQ29udGVudENvbW1hbmQiLCJzZWxlY3RFZGl0YWJsZUNvbnRlbnQiLCJTZWxlY3RUZXh0QXJlYUNvbnRlbnRDb21tYW5kIiwic2VsZWN0VGV4dEFyZWFDb250ZW50IiwiUHJlc3NLZXlDb21tYW5kIiwicHJlc3NLZXkiLCJOYXZpZ2F0ZVRvQ29tbWFuZCIsIm5hdmlnYXRlVG8iLCJTZXRGaWxlc1RvVXBsb2FkQ29tbWFuZCIsInNldEZpbGVzVG9VcGxvYWQiLCJDbGVhclVwbG9hZENvbW1hbmQiLCJjbGVhclVwbG9hZCIsIlN3aXRjaFRvSWZyYW1lQ29tbWFuZCIsInN3aXRjaFRvSWZyYW1lIiwiU3dpdGNoVG9NYWluV2luZG93Q29tbWFuZCIsInN3aXRjaFRvTWFpbldpbmRvdyIsIlNldE5hdGl2ZURpYWxvZ0hhbmRsZXJDb21tYW5kIiwic2V0TmF0aXZlRGlhbG9nSGFuZGxlciIsIkdldE5hdGl2ZURpYWxvZ0hpc3RvcnlDb21tYW5kIiwiZ2V0TmF0aXZlRGlhbG9nSGlzdG9yeSIsIkdldEJyb3dzZXJDb25zb2xlTWVzc2FnZXNDb21tYW5kIiwiZ2V0QnJvd3NlckNvbnNvbGVNZXNzYWdlcyIsIlNldFRlc3RTcGVlZENvbW1hbmQiLCJzZXRUZXN0U3BlZWQiLCJTZXRQYWdlTG9hZFRpbWVvdXRDb21tYW5kIiwic2V0UGFnZUxvYWRUaW1lb3V0IiwiVXNlUm9sZUNvbW1hbmQiLCJ1c2VSb2xlIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBOztBQUVBOztBQWFBOztBQUNBOzs7O0FBR0E7QUFDQSxTQUFTQSxpQkFBVCxDQUE0QkMsSUFBNUIsRUFBa0NDLEdBQWxDLEVBQXVDO0FBQ25DLFdBQU8sMkJBQWtCQSxHQUFsQixFQUF1QixJQUF2QixDQUFQO0FBQ0g7O0FBRUQsU0FBU0MsZ0JBQVQsQ0FBMkJGLElBQTNCLEVBQWlDQyxHQUFqQyxFQUFzQztBQUNsQyxXQUFPLDBCQUFpQkEsR0FBakIsRUFBc0IsSUFBdEIsQ0FBUDtBQUNIOztBQUVELFNBQVNFLGdCQUFULENBQTJCSCxJQUEzQixFQUFpQ0MsR0FBakMsRUFBc0M7QUFDbEMsV0FBTywwQkFBaUJBLEdBQWpCLEVBQXNCLElBQXRCLENBQVA7QUFDSDs7QUFFRCxTQUFTRyxlQUFULENBQTBCSixJQUExQixF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Z0Q7O1FBQXhDeUMsbUIsR0FBQUEsbUI7QUFZTixNQUFNRSx5QkFBTix3QkFBb0Q7QUFDdkRoRCxnQkFBYUMsR0FBYixFQUFrQmQsT0FBbEIsRUFBMkI7QUFDdkIsY0FBTWMsR0FBTixFQUFXZCxPQUFYLEVBQW9CLGVBQUs4RCxrQkFBekI7QUFDSDs7QUFFRDlDLCtCQUE0QjtBQUN4QixlQUFPLENBQ0gsRUFBRXhCLE1BQU0sVUFBUixFQUFvQjJCLHVDQUFwQixFQUFtREQsVUFBVSxJQUE3RCxFQURHLENBQVA7QUFHSDtBQVRzRDs7UUFBOUMyQyx5QixHQUFBQSx5QjtBQVlOLE1BQU1FLGNBQU4sd0JBQXlDO0FBQzVDbEQsZ0JBQWFDLEdBQWIsRUFBa0JkLE9BQWxCLEVBQTJCO0FBQ3ZCLGNBQU1jLEdBQU4sRUFBV2QsT0FBWCxFQUFvQixlQUFLZ0UsT0FBekI7QUFDSDs7QUFFRGhELCtCQUE0QjtBQUN4QixlQUFPLENBQ0gsRUFBRXhCLE1BQU0sTUFBUixFQUFnQjJCLGtDQUFoQixFQUEwQ0QsVUFBVSxJQUFwRCxFQURHLENBQVA7QUFHSDtBQVQyQztRQUFuQzZDLGMsR0FBQUEsYyIsImZpbGUiOiJ0ZXN0LXJ1bi9jb21tYW5kcy9hY3Rpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRZUEUgZnJvbSAnLi90eXBlJztcbmltcG9ydCBTZWxlY3RvckJ1aWxkZXIgZnJvbSAnLi4vLi4vY2xpZW50LWZ1bmN0aW9ucy9zZWxlY3RvcnMvc2VsZWN0b3ItYnVpbGRlcic7XG5pbXBvcnQgQ2xpZW50RnVuY3Rpb25CdWlsZGVyIGZyb20gJy4uLy4uL2NsaWVudC1mdW5jdGlvbnMvY2xpZW50LWZ1bmN0aW9uLWJ1aWxkZXInO1xuaW1wb3J0IGZ1bmN0aW9uQnVpbGRlclN5bWJvbCBmcm9tICcuLi8uLi9jbGllbnQtZnVuY3Rpb25zL2J1aWxkZXItc3ltYm9sJztcbmltcG9ydCBDb21tYW5kQmFzZSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHsgQWN0aW9uT3B0aW9ucywgQ2xpY2tPcHRpb25zLCBNb3VzZU9wdGlvbnMsIFR5cGVPcHRpb25zLCBEcmFnVG9FbGVtZW50T3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBpbml0U2VsZWN0b3IsIGluaXRVcGxvYWRTZWxlY3RvciB9IGZyb20gJy4vdmFsaWRhdGlvbnMvaW5pdGlhbGl6ZXJzJztcbmltcG9ydCBleGVjdXRlSnNFeHByZXNzaW9uIGZyb20gJy4uL2V4ZWN1dGUtanMtZXhwcmVzc2lvbic7XG5pbXBvcnQgeyBpc0pTRXhwcmVzc2lvbiB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbXBvcnQge1xuICAgIGFjdGlvbk9wdGlvbnMsXG4gICAgaW50ZWdlckFyZ3VtZW50LFxuICAgIHBvc2l0aXZlSW50ZWdlckFyZ3VtZW50LFxuICAgIG5vbkVtcHR5U3RyaW5nQXJndW1lbnQsXG4gICAgbnVsbGFibGVTdHJpbmdBcmd1bWVudCxcbiAgICB1cmxBcmd1bWVudCxcbiAgICBzdHJpbmdPclN0cmluZ0FycmF5QXJndW1lbnQsXG4gICAgc2V0U3BlZWRBcmd1bWVudCxcbiAgICBhY3Rpb25Sb2xlQXJndW1lbnQsXG4gICAgYm9vbGVhbkFyZ3VtZW50XG59IGZyb20gJy4vdmFsaWRhdGlvbnMvYXJndW1lbnQnO1xuXG5pbXBvcnQgeyBTZXROYXRpdmVEaWFsb2dIYW5kbGVyQ29kZVdyb25nVHlwZUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3JzL3Rlc3QtcnVuJztcbmltcG9ydCB7IEV4ZWN1dGVDbGllbnRGdW5jdGlvbkNvbW1hbmQgfSBmcm9tICcuL29ic2VydmF0aW9uJztcblxuXG4vLyBJbml0aWFsaXplcnNcbmZ1bmN0aW9uIGluaXRBY3Rpb25PcHRpb25zIChuYW1lLCB2YWwpIHtcbiAgICByZXR1cm4gbmV3IEFjdGlvbk9wdGlvbnModmFsLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdENsaWNrT3B0aW9ucyAobmFtZSwgdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBDbGlja09wdGlvbnModmFsLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdE1vdXNlT3B0aW9ucyAobmFtZSwgdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBNb3VzZU9wdGlvbnModmFsLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdFR5cGVPcHRpb25zIChuYW1lLCB2YWwpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVPcHRpb25zKHZhbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGluaXREcmFnVG9FbGVtZW50T3B0aW9ucyAobmFtZSwgdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBEcmFnVG9FbGVtZW50T3B0aW9ucyh2YWwsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBpbml0RGlhbG9nSGFuZGxlciAobmFtZSwgdmFsLCB7IHNraXBWaXNpYmlsaXR5Q2hlY2ssIHRlc3RSdW4gfSkge1xuICAgIGxldCBmbjtcblxuICAgIGlmIChpc0pTRXhwcmVzc2lvbih2YWwpKVxuICAgICAgICBmbiA9IGV4ZWN1dGVKc0V4cHJlc3Npb24odmFsLnZhbHVlLCB0ZXN0UnVuLCB7IHNraXBWaXNpYmlsaXR5Q2hlY2sgfSk7XG4gICAgZWxzZVxuICAgICAgICBmbiA9IHZhbC5mbjtcblxuICAgIGlmIChmbiA9PT0gbnVsbCB8fCBmbiBpbnN0YW5jZW9mIEV4ZWN1dGVDbGllbnRGdW5jdGlvbkNvbW1hbmQpXG4gICAgICAgIHJldHVybiBmbjtcblxuICAgIGNvbnN0IG9wdGlvbnMgICAgICA9IHZhbC5vcHRpb25zO1xuICAgIGNvbnN0IG1ldGhvZE5hbWUgICA9ICdzZXROYXRpdmVEaWFsb2dIYW5kbGVyJztcbiAgICBsZXQgYnVpbGRlciAgICAgID0gZm4gJiYgZm5bZnVuY3Rpb25CdWlsZGVyU3ltYm9sXTtcbiAgICBjb25zdCBpc1NlbGVjdG9yICAgPSBidWlsZGVyIGluc3RhbmNlb2YgU2VsZWN0b3JCdWlsZGVyO1xuICAgIGNvbnN0IGZ1bmN0aW9uVHlwZSA9IHR5cGVvZiBmbjtcblxuICAgIGlmIChmdW5jdGlvblR5cGUgIT09ICdmdW5jdGlvbicgfHwgaXNTZWxlY3RvcilcbiAgICAgICAgdGhyb3cgbmV3IFNldE5hdGl2ZURpYWxvZ0hhbmRsZXJDb2RlV3JvbmdUeXBlRXJyb3IoaXNTZWxlY3RvciA/ICdTZWxlY3RvcicgOiBmdW5jdGlvblR5cGUpO1xuXG4gICAgYnVpbGRlciA9IGJ1aWxkZXIgaW5zdGFuY2VvZiBDbGllbnRGdW5jdGlvbkJ1aWxkZXIgP1xuICAgICAgICBmbi53aXRoKG9wdGlvbnMpW2Z1bmN0aW9uQnVpbGRlclN5bWJvbF0gOlxuICAgICAgICBuZXcgQ2xpZW50RnVuY3Rpb25CdWlsZGVyKGZuLCBvcHRpb25zLCB7IGluc3RhbnRpYXRpb246IG1ldGhvZE5hbWUsIGV4ZWN1dGlvbjogbWV0aG9kTmFtZSB9KTtcblxuICAgIHJldHVybiBidWlsZGVyLmdldENvbW1hbmQoW10pO1xuXG59XG5cbi8vIENvbW1hbmRzXG5leHBvcnQgY2xhc3MgQ2xpY2tDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmNsaWNrKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdENsaWNrT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJpZ2h0Q2xpY2tDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnJpZ2h0Q2xpY2spO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ29wdGlvbnMnLCB0eXBlOiBhY3Rpb25PcHRpb25zLCBpbml0OiBpbml0Q2xpY2tPcHRpb25zLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXhlY3V0ZUV4cHJlc3Npb25Db21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmV4ZWN1dGVFeHByZXNzaW9uKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnZXhwcmVzc2lvbicsIHR5cGU6IG5vbkVtcHR5U3RyaW5nQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdyZXN1bHRWYXJpYWJsZU5hbWUnLCB0eXBlOiBub25FbXB0eVN0cmluZ0FyZ3VtZW50LCBkZWZhdWx0VmFsdWU6IG51bGwgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2lzQXN5bmNFeHByZXNzaW9uJywgdHlwZTogYm9vbGVhbkFyZ3VtZW50LCBkZWZhdWx0VmFsdWU6IGZhbHNlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEb3VibGVDbGlja0NvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuZG91YmxlQ2xpY2spO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ29wdGlvbnMnLCB0eXBlOiBhY3Rpb25PcHRpb25zLCBpbml0OiBpbml0Q2xpY2tPcHRpb25zLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSG92ZXJDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmhvdmVyKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdE1vdXNlT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFR5cGVUZXh0Q29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS50eXBlVGV4dCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAndGV4dCcsIHR5cGU6IG5vbkVtcHR5U3RyaW5nQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdFR5cGVPcHRpb25zLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRHJhZ0NvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuZHJhZyk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnZHJhZ09mZnNldFgnLCB0eXBlOiBpbnRlZ2VyQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdkcmFnT2Zmc2V0WScsIHR5cGU6IGludGVnZXJBcmd1bWVudCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ29wdGlvbnMnLCB0eXBlOiBhY3Rpb25PcHRpb25zLCBpbml0OiBpbml0TW91c2VPcHRpb25zLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRHJhZ1RvRWxlbWVudENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuZHJhZ1RvRWxlbWVudCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnZGVzdGluYXRpb25TZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ29wdGlvbnMnLCB0eXBlOiBhY3Rpb25PcHRpb25zLCBpbml0OiBpbml0RHJhZ1RvRWxlbWVudE9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RUZXh0Q29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5zZWxlY3RUZXh0KTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdzdGFydFBvcycsIHR5cGU6IHBvc2l0aXZlSW50ZWdlckFyZ3VtZW50LCBkZWZhdWx0VmFsdWU6IG51bGwgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2VuZFBvcycsIHR5cGU6IHBvc2l0aXZlSW50ZWdlckFyZ3VtZW50LCBkZWZhdWx0VmFsdWU6IG51bGwgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ29wdGlvbnMnLCB0eXBlOiBhY3Rpb25PcHRpb25zLCBpbml0OiBpbml0QWN0aW9uT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlbGVjdEVkaXRhYmxlQ29udGVudENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuc2VsZWN0RWRpdGFibGVDb250ZW50KTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc3RhcnRTZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2VuZFNlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCBkZWZhdWx0VmFsdWU6IG51bGwgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ29wdGlvbnMnLCB0eXBlOiBhY3Rpb25PcHRpb25zLCBpbml0OiBpbml0QWN0aW9uT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlbGVjdFRleHRBcmVhQ29udGVudENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuc2VsZWN0VGV4dEFyZWFDb250ZW50KTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdzdGFydExpbmUnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdzdGFydFBvcycsIHR5cGU6IHBvc2l0aXZlSW50ZWdlckFyZ3VtZW50LCBkZWZhdWx0VmFsdWU6IG51bGwgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2VuZExpbmUnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdlbmRQb3MnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdEFjdGlvbk9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcmVzc0tleUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUucHJlc3NLZXkpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdrZXlzJywgdHlwZTogbm9uRW1wdHlTdHJpbmdBcmd1bWVudCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ29wdGlvbnMnLCB0eXBlOiBhY3Rpb25PcHRpb25zLCBpbml0OiBpbml0QWN0aW9uT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5hdmlnYXRlVG9Db21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLm5hdmlnYXRlVG8pO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICd1cmwnLCB0eXBlOiB1cmxBcmd1bWVudCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ3N0YXRlU25hcHNob3QnLCB0eXBlOiBudWxsYWJsZVN0cmluZ0FyZ3VtZW50LCBkZWZhdWx0VmFsdWU6IG51bGwgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNldEZpbGVzVG9VcGxvYWRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnNldEZpbGVzVG9VcGxvYWQpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRVcGxvYWRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2ZpbGVQYXRoJywgdHlwZTogc3RyaW5nT3JTdHJpbmdBcnJheUFyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJVcGxvYWRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmNsZWFyVXBsb2FkKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0VXBsb2FkU2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTd2l0Y2hUb0lmcmFtZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuc3dpdGNoVG9JZnJhbWUpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN3aXRjaFRvTWFpbldpbmRvd0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy50eXBlID0gVFlQRS5zd2l0Y2hUb01haW5XaW5kb3c7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2V0TmF0aXZlRGlhbG9nSGFuZGxlckNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuc2V0TmF0aXZlRGlhbG9nSGFuZGxlcik7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2RpYWxvZ0hhbmRsZXInLCBpbml0OiBpbml0RGlhbG9nSGFuZGxlciwgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldE5hdGl2ZURpYWxvZ0hpc3RvcnlDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IFRZUEUuZ2V0TmF0aXZlRGlhbG9nSGlzdG9yeTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRCcm93c2VyQ29uc29sZU1lc3NhZ2VzQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSBUWVBFLmdldEJyb3dzZXJDb25zb2xlTWVzc2FnZXM7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2V0VGVzdFNwZWVkQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5zZXRUZXN0U3BlZWQpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzcGVlZCcsIHR5cGU6IHNldFNwZWVkQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZXRQYWdlTG9hZFRpbWVvdXRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnNldFBhZ2VMb2FkVGltZW91dCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2R1cmF0aW9uJywgdHlwZTogcG9zaXRpdmVJbnRlZ2VyQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VSb2xlQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS51c2VSb2xlKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAncm9sZScsIHR5cGU6IGFjdGlvblJvbGVBcmd1bWVudCwgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cbiJdfQ==
