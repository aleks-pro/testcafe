'use strict';

exports.__esModule = true;
exports.MaximizeWindowCommand = exports.ResizeWindowToFitDeviceCommand = exports.ResizeWindowCommand = exports.TakeScreenshotOnFailCommand = exports.TakeElementScreenshotCommand = exports.TakeScreenshotCommand = undefined;

var _assign = require('babel-runtime/core-js/object/assign');

var _assign2 = _interopRequireDefault(_assign);

var _type = require('./type');

var _type2 = _interopRequireDefault(_type);

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _options = require('./options');

var _initializers = require('./validations/initializers');

var _argument = require('./validations/argument');

var _utils = require('../../screenshots/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initResizeToFitDeviceOptions(name, val) {
    return new _options.ResizeToFitDeviceOptions(val, true);
}

function initElementScreenshotOptions(name, val) {
    return new _options.ElementScreenshotOptions(val, true);
}

// Commands
class TakeScreenshotBaseCommand extends _base2.default {
    constructor(obj, testRun, type) {
        super(obj, testRun, type);

        this.markSeed = null;
        this.markData = '';
    }

    generateScreenshotMark() {
        (0, _assign2.default)(this, (0, _utils.generateScreenshotMark)());
    }
}

class TakeScreenshotCommand extends TakeScreenshotBaseCommand {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.takeScreenshot);
    }

    _getAssignableProperties() {
        return [{ name: 'path', type: _argument.screenshotPathArgument, defaultValue: '' }];
    }
}

exports.TakeScreenshotCommand = TakeScreenshotCommand;
class TakeElementScreenshotCommand extends TakeScreenshotBaseCommand {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.takeElementScreenshot);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', init: initElementScreenshotOptions, required: true }, { name: 'path', type: _argument.screenshotPathArgument, defaultValue: '' }];
    }
}

exports.TakeElementScreenshotCommand = TakeElementScreenshotCommand;
class TakeScreenshotOnFailCommand extends TakeScreenshotBaseCommand {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.takeScreenshotOnFail);
    }

    _getAssignableProperties() {
        return [];
    }
}

exports.TakeScreenshotOnFailCommand = TakeScreenshotOnFailCommand;
class ResizeWindowCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.resizeWindow);
    }

    _getAssignableProperties() {
        return [{ name: 'width', type: _argument.positiveIntegerArgument, required: true }, { name: 'height', type: _argument.positiveIntegerArgument, required: true }];
    }
}

exports.ResizeWindowCommand = ResizeWindowCommand;
class ResizeWindowToFitDeviceCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.resizeWindowToFitDevice);
    }

    _getAssignableProperties() {
        return [{ name: 'device', type: _argument.resizeWindowDeviceArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initResizeToFitDeviceOptions, required: true }];
    }
}

exports.ResizeWindowToFitDeviceCommand = ResizeWindowToFitDeviceCommand;
class MaximizeWindowCommand {
    constructor() {
        this.type = _type2.default.maximizeWindow;
    }
}
exports.MaximizeWindowCommand = MaximizeWindowCommand;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXN0LXJ1bi9jb21tYW5kcy9icm93c2VyLW1hbmlwdWxhdGlvbi5qcyJdLCJuYW1lcyI6WyJpbml0UmVzaXplVG9GaXREZXZpY2VPcHRpb25zIiwibmFtZSIsInZhbCIsImluaXRFbGVtZW50U2NyZWVuc2hvdE9wdGlvbnMiLCJUYWtlU2NyZWVuc2hvdEJhc2VDb21tYW5kIiwiY29uc3RydWN0b3IiLCJvYmoiLCJ0ZXN0UnVuIiwidHlwZSIsIm1hcmtTZWVkIiwibWFya0RhdGEiLCJnZW5lcmF0ZVNjcmVlbnNob3RNYXJrIiwiVGFrZVNjcmVlbnNob3RDb21tYW5kIiwidGFrZVNjcmVlbnNob3QiLCJfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMiLCJkZWZhdWx0VmFsdWUiLCJUYWtlRWxlbWVudFNjcmVlbnNob3RDb21tYW5kIiwidGFrZUVsZW1lbnRTY3JlZW5zaG90IiwiaW5pdCIsInJlcXVpcmVkIiwiVGFrZVNjcmVlbnNob3RPbkZhaWxDb21tYW5kIiwidGFrZVNjcmVlbnNob3RPbkZhaWwiLCJSZXNpemVXaW5kb3dDb21tYW5kIiwicmVzaXplV2luZG93IiwiUmVzaXplV2luZG93VG9GaXREZXZpY2VDb21tYW5kIiwicmVzaXplV2luZG93VG9GaXREZXZpY2UiLCJNYXhpbWl6ZVdpbmRvd0NvbW1hbmQiLCJtYXhpbWl6ZVdpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOztBQUNBOztBQUVBOztBQU9BOzs7O0FBRUEsU0FBU0EsNEJBQVQsQ0FBdUNDLElBQXZDLEVBQTZDQyxHQUE3QyxFQUFrRDtBQUM5QyxXQUFPLHNDQUE2QkEsR0FBN0IsRUFBa0MsSUFBbEMsQ0FBUDtBQUNIOztBQUVELFNBQVNDLDRCQUFULENBQXVDRixJQUF2QyxFQUE2Q0MsR0FBN0MsRUFBa0Q7QUFDOUMsV0FBTyxzQ0FBNkJBLEdBQTdCLEVBQWtDLElBQWxDLENBQVA7QUFDSDs7QUFFRDtBQUNBLE1BQU1FLHlC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b250ZW50IjpbImltcG9ydCBUWVBFIGZyb20gJy4vdHlwZSc7XG5pbXBvcnQgQ29tbWFuZEJhc2UgZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7IEVsZW1lbnRTY3JlZW5zaG90T3B0aW9ucywgUmVzaXplVG9GaXREZXZpY2VPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IGluaXRTZWxlY3RvciB9IGZyb20gJy4vdmFsaWRhdGlvbnMvaW5pdGlhbGl6ZXJzJztcblxuaW1wb3J0IHtcbiAgICBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCxcbiAgICBzY3JlZW5zaG90UGF0aEFyZ3VtZW50LFxuICAgIHJlc2l6ZVdpbmRvd0RldmljZUFyZ3VtZW50LFxuICAgIGFjdGlvbk9wdGlvbnNcbn0gZnJvbSAnLi92YWxpZGF0aW9ucy9hcmd1bWVudCc7XG5cbmltcG9ydCB7IGdlbmVyYXRlU2NyZWVuc2hvdE1hcmsgfSBmcm9tICcuLi8uLi9zY3JlZW5zaG90cy91dGlscyc7XG5cbmZ1bmN0aW9uIGluaXRSZXNpemVUb0ZpdERldmljZU9wdGlvbnMgKG5hbWUsIHZhbCkge1xuICAgIHJldHVybiBuZXcgUmVzaXplVG9GaXREZXZpY2VPcHRpb25zKHZhbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGluaXRFbGVtZW50U2NyZWVuc2hvdE9wdGlvbnMgKG5hbWUsIHZhbCkge1xuICAgIHJldHVybiBuZXcgRWxlbWVudFNjcmVlbnNob3RPcHRpb25zKHZhbCwgdHJ1ZSk7XG59XG5cbi8vIENvbW1hbmRzXG5jbGFzcyBUYWtlU2NyZWVuc2hvdEJhc2VDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4sIHR5cGUpIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCB0eXBlKTtcblxuICAgICAgICB0aGlzLm1hcmtTZWVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXJrRGF0YSA9ICcnO1xuICAgIH1cblxuICAgIGdlbmVyYXRlU2NyZWVuc2hvdE1hcmsgKCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGdlbmVyYXRlU2NyZWVuc2hvdE1hcmsoKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFrZVNjcmVlbnNob3RDb21tYW5kIGV4dGVuZHMgVGFrZVNjcmVlbnNob3RCYXNlQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUudGFrZVNjcmVlbnNob3QpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdwYXRoJywgdHlwZTogc2NyZWVuc2hvdFBhdGhBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiAnJyB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFrZUVsZW1lbnRTY3JlZW5zaG90Q29tbWFuZCBleHRlbmRzIFRha2VTY3JlZW5zaG90QmFzZUNvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnRha2VFbGVtZW50U2NyZWVuc2hvdCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIGluaXQ6IGluaXRFbGVtZW50U2NyZWVuc2hvdE9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdwYXRoJywgdHlwZTogc2NyZWVuc2hvdFBhdGhBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiAnJyB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFrZVNjcmVlbnNob3RPbkZhaWxDb21tYW5kIGV4dGVuZHMgVGFrZVNjcmVlbnNob3RCYXNlQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUudGFrZVNjcmVlbnNob3RPbkZhaWwpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNpemVXaW5kb3dDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnJlc2l6ZVdpbmRvdyk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3dpZHRoJywgdHlwZTogcG9zaXRpdmVJbnRlZ2VyQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdoZWlnaHQnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlc2l6ZVdpbmRvd1RvRml0RGV2aWNlQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5yZXNpemVXaW5kb3dUb0ZpdERldmljZSk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2RldmljZScsIHR5cGU6IHJlc2l6ZVdpbmRvd0RldmljZUFyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRSZXNpemVUb0ZpdERldmljZU9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYXhpbWl6ZVdpbmRvd0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy50eXBlID0gVFlQRS5tYXhpbWl6ZVdpbmRvdztcbiAgICB9XG59XG4iXX0=
